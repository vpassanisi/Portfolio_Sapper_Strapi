<script>
  import { slide, fade } from "svelte/transition";

  export let project;

  let hovering = false;
</script>

<div
  class="relative text-white w-full md:w-1/2 h-56 border-4 border-dark-gray-900
  overflow-hidden"
  on:mouseenter={() => (hovering = true)}
  on:mouseleave={() => (hovering = false)}>
  <div
    class="relative h-full w-full bg-cover bg-center bg-no-repeat
    transition-filter duration-500 ease-in-out"
    class:blur={hovering}
    style={`background-image: url('${project.background}')`} />
  <div
    class="absolute bottom-0 flex items-center justify-center w-full text-center
    bg-gray-900 text-xl font-thin h-12">
    {project.name}
  </div>
  {#if hovering}
    <div
      transition:slide={{ duration: 500 }}
      class="absolute bottom-0 flex flex-row items-center justify-center w-full
      text-center bg-gray-900 text-xl font-thin border-t h-12 z-10">
      <a
        class="flex items-center justify-center w-3/4 h-full hover:bg-gray-800
        transition-bg-color duration-300 ease-in-out"
        href={project.url}>
        Go To Project
      </a>
      <a
        href={project.github}
        class="w-1/4 hover:bg-gray-800 transition-bg-color duration-300
        ease-in-out h-full bg-contain bg-center bg-no-repeat p-1 border-l">
        <svg
          class="fill-current h-full w-full"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          width="240pt"
          height="240pt"
          viewBox="0 0 240 240"
          version="1.1">
          <g id="surface591329">
            <path
              style=" stroke:none;fill:rgb(100%,100%,100%);fill-opacity:1;"
              d="M 120 1.921875 C 54.789062 1.921875 1.921875 54.789062 1.921875
              120 C 1.921875 175.332031 40.019531 221.628906 91.386719 234.4375
              C 90.835938 232.84375 90.480469 230.996094 90.480469 228.703125 L
              90.480469 208.519531 C 85.6875 208.519531 77.660156 208.519531
              75.640625 208.519531 C 67.5625 208.519531 60.378906 205.046875
              56.894531 198.59375 C 53.027344 191.417969 52.359375 180.445312
              42.777344 173.734375 C 39.933594 171.503906 42.097656 168.953125
              45.375 169.296875 C 51.425781 171.011719 56.445312 175.164062
              61.167969 181.324219 C 65.871094 187.492188 68.085938 188.890625
              76.871094 188.890625 C 81.132812 188.890625 87.507812 188.644531
              93.511719 187.699219 C 96.738281 179.503906 102.316406 171.957031
              109.136719 168.394531 C 69.816406 164.347656 51.050781 144.785156
              51.050781 118.230469 C 51.050781 106.792969 55.921875 95.734375
              64.199219 86.417969 C 61.480469 77.167969 58.066406 58.304688
              65.242188 51.121094 C 82.933594 51.121094 93.628906 62.59375
              96.195312 65.691406 C 105.015625 62.671875 114.695312 60.960938
              124.871094 60.960938 C 135.066406 60.960938 144.785156 62.671875
              153.625 65.710938 C 156.160156 62.632812 166.867188 51.121094
              184.597656 51.121094 C 191.800781 58.3125 188.347656 77.253906
              185.601562 86.484375 C 193.828125 95.785156 198.671875 106.8125
              198.671875 118.230469 C 198.671875 144.765625 179.933594
              164.320312 140.671875 168.382812 C 151.476562 174.023438
              159.359375 189.863281 159.359375 201.800781 L 159.359375
              228.703125 C 159.359375 229.726562 159.132812 230.464844
              159.015625 231.339844 C 205.027344 215.210938 238.078125
              171.523438 238.078125 120 C 238.078125 54.789062 185.210938
              1.921875 120 1.921875 Z M 120 1.921875 " />
          </g>
        </svg>
      </a>
    </div>
    <div
      class="flex flex-wrap justify-center content-start absolute inset-0 h-full
      w-full bg-black bg-opacity-75 p-2"
      transition:fade={{ duration: 500 }}>
      <img class="block h-12" src={project.overlayIcon} alt="" />
      {#each project.techs as tech}
        <a
          class="=text-white p-2 text-lg font-thin h-min-content"
          href={tech.link}>
          {tech.name}
        </a>
      {/each}
    </div>
  {/if}
</div>
